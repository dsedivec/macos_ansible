- name: Find MacTeX fonts
  find:
    paths:
      - /Library/TeX/Root/texmf-dist/fonts
    patterns:
      - AnonymousPro-*.ttf
      - Crimson-*.otf
      - CrimsonPro-*.ttf
      - EBGaramond-*.otf
      - FiraMono-*.otf
      - Gentium*.ttf
      - Inconsolata*.otf
      - Lato-*.ttf
      - NotoSerif-*.otf
      - SourceCodePro-*.otf
    recurse: true
    follow: true
  register: mactex_fonts

- name: 'Hard link found fonts into {{ user_font_dir }}'
  file:
    state: hard
    #src: '{{ item | relpath(user_font_dir) }}'
    src: '{{ item }}'
    dest: '{{ user_font_dir }}/{{ item | basename }}'
  loop: '{{ mactex_fonts.files | map(attribute="path") | list }}'
