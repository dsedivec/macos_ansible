macos_prefs_change_modifiers_remote_repo: git@github.com:dsedivec/change_modifiers.git
macos_prefs_change_modifiers_local_repo: '{{ repositories_root }}/change_modifiers'

macos_prefs_display_manager_remote_repo: https://github.com/univ-of-utah-marriott-library-apple/display_manager
macos_prefs_display_manager_local_repo: '{{ repositories_root }}/display_manager'
macos_prefs_display_manager: '{{ macos_prefs_display_manager_local_repo }}/display_manager.py'
macos_prefs_main_resolution: 1440x900

macos_prefs_set:
  - key: NSQuitAlwaysKeepsWindows
    type: bool
    value: true

  - key: AppleICUForce24HourTime
    type: bool
    value: true

  # Most/all of these seem to be necessary to set trackpad "Swipe
  # between pages" to "Swipe with three fingers".  First one
  # *disables* two finger swipe.  Most/all of the rest seem to be
  # necessary to *enable* three finger swipe.
  - key: AppleEnableSwipeNavigateWithScrolls
    type: bool
    value: false
  - host: currentHost
    key: com.apple.trackpad.threeFingerHorizSwipeGesture
    type: int
    value: 1
  - domain: com.apple.AppleMultitouchTrackpad
    key: TrackpadThreeFingerHorizSwipeGesture
    type: int
    value: 1
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: TrackpadThreeFingerHorizSwipeGesture
    type: int
    value: 1

  - key: com.apple.swipescrolldirection
    type: bool
    value: false

  # I think some of the following preferences---perhaps many of
  # them---will need check_type=false.  System Preferences changed
  # them from e.g. bools to ints.

  - host: currentHost
    key: com.apple.mouse.tapBehavior
    type: int
    value: 1
  - host: currentHost
    key: com.apple.trackpad.fiveFingerPinchSwipeGesture
    type: int
    value: 0
  - host: currentHost
    key: com.apple.trackpad.fourFingerHorizSwipeGesture
    type: int
    value: 0
  - host: currentHost
    key: com.apple.trackpad.fourFingerPinchSwipeGesture
    type: int
    value: 0
  - host: currentHost
    key: com.apple.trackpad.threeFingerVertSwipeGesture
    type: int
    value: 1
  - host: currentHost
    key: com.apple.trackpad.twoFingerFromRightEdgeSwipeGesture
    type: int
    value: 0

  - domain: com.apple.AppleMultitouchTrackpad
    key: Clicking
    type: bool
    value: true
  - domain: com.apple.AppleMultitouchTrackpad
    key: TrackpadFiveFingerPinchGesture
    type: int
    value: 0
  - domain: com.apple.AppleMultitouchTrackpad
    key: TrackpadFourFingerHorizSwipeGesture
    type: int
    value: 0
  - domain: com.apple.AppleMultitouchTrackpad
    key: TrackpadFourFingerPinchGesture
    type: int
    value: 0
  - domain: com.apple.AppleMultitouchTrackpad
    key: TrackpadThreeFingerVertSwipeGesture
    type: int
    value: 1
  - domain: com.apple.AppleMultitouchTrackpad
    key: TrackpadTwoFingerFromRightEdgeSwipeGesture
    type: int
    value: 0

  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: Clicking
    type: bool
    value: true
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: DragLock
    type: bool
    value: false
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: Dragging
    type: bool
    value: false
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: TrackpadFiveFingerPinchGesture
    type: int
    value: 0
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: TrackpadFourFingerHorizSwipeGesture
    type: int
    value: 0
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: TrackpadFourFingerPinchGesture
    type: int
    value: 0
  - domain: com.apple.driver.AppleBluetoothMultitouch.trackpad
    key: TrackpadTwoFingerFromRightEdgeSwipeGesture
    type: int
    value: 0

  - domain: com.apple.dock
    key: showDesktopGestureEnabled
    type: bool
    value: false
  - domain: com.apple.dock
    key: showLaunchpadGestureEnabled
    type: bool
    value: false
  - domain: com.apple.dock
    key: showMissionControlGestureEnabled
    type: bool
    value: false
  - domain: com.apple.dock
    key: show-recents
    type: bool
    value: false
  - domain: com.apple.dock
    key: autohide
    type: bool
    value: true

  - host: currentHost
    domain: com.apple.screensaver
    key: idleTime
    type: int
    value: 300

  - host: currentHost
    domain: com.apple.screensaver
    key: moduleDict
    type: dict
    value:
      moduleName: Flurry
      path: /System/Library/Screen Savers/Flurry.saver
      type: 0

  - domain: com.apple.symbolichotkeys
    # kCGSHotKeyExposeAllWindows
    # key: 'AppleSymbolicHotKeys:32'
    key: [AppleSymbolicHotKeys, 32]
    type: dict
    value:
      enabled: true
      value:
        parameters:
          - 65535
          # <f9>
          - 0x65
          # NX_SECONDARYFNMASK
          - 0x800000
        type: standard

  - domain: com.apple.symbolichotkeys
    # kCGSHotKeyExposeApplicationWindows
    key: [AppleSymbolicHotKeys, 33]
    type: dict
    value:
      enabled: true
      value:
        parameters:
          - 65535
          # <f10>
          - 0x6D
          # NX_SECONDARYFNMASK
          - 0x800000
        type: standard

  - domain: com.apple.symbolichotkeys
    # kCGSHotKeyExposeAllWindowsSlow
    key: [AppleSymbolicHotKeys, 34]
    type: dict
    value:
      enabled: true
      value:
        parameters:
          - 65535
          # <f9>
          - 0x65
          # NX_SECONDARYFNMASK | NX_SHIFTMASK
          - 0x820000
        type: standard

  - domain: com.apple.symbolichotkeys
    # kCGSHotKeyExposeApplicationWindowsSlow
    key: [AppleSymbolicHotKeys, 35]
    type: dict
    value:
      enabled: true
      value:
        parameters:
          - 65535
          # <f10>
          - 0x6D
          # NX_SECONDARYFNMASK | NX_SHIFTMASK
          - 0x820000
        type: standard

  - domain: com.apple.menuextra.clock
    key: DateFormat
    type: string
    value: 'EEE H:mm:ss'

  # Remove clock and battery from menu bar.  (Provided instead by
  # iStat Menus.)

  - domain: com.apple.systemuiserver
    key: "NSStatusItem Preferred Position com.apple.menuextra.clock"
    state: absent

  - domain: com.apple.systemuiserver
    key: "NSStatusItem Visible com.apple.menuextra.battery"
    state: absent

  - domain: com.apple.systemuiserver
    key: "NSStatusItem Visible com.apple.menuextra.clock"
    state: absent

  - domain: com.apple.systemuiserver
    key: menuExtras
    value:
      - "/System/Library/CoreServices/Menu Extras/User.menu"
      - "/System/Library/CoreServices/Menu Extras/AirPort.menu"
      - "/System/Library/CoreServices/Menu Extras/Displays.menu"
